{% extends "base.html" %}

{% block title %}Add Raw Stock{% endblock %}

{% block content %}
<h2>âž• Add Raw Groundnut Stock</h2>

<form method="POST" class="mt-4">
    <div class="mb-3">
        <label for="supplier_id" class="form-label">Supplier</label>
        <div class="input-group">
            <select name="supplier_id" id="supplier_id" class="form-select" required>
                <option value="">Select a supplier</option>
                {% for supplier in suppliers %}
                <option value="{{ supplier.id }}">{{ supplier.name }}</option>
                {% endfor %}
            </select>
            <a href="{{ url_for('supplier.add_supplier', next=request.url) }}" class="btn btn-outline-secondary" title="Add New Supplier">âž•</a>        </div>
    </div>

    <div class="mb-3">
        <label for="weight" class="form-label">Weight (kg)</label>
        <input type="number" step="0.01" name="weight" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="gram" class="form-label">Gram (Yield %)</label>
        <input type="number" name="gram" step="0.1" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-success">ðŸ“„ Save</button>
            <a href="{{url_for('raw_stock.list_raw_stock') }}" class="btn btn-danger ms-2">ã„¨ Cancel</a>
</form>
{% endblock %}

{% block scripts %}
<!-- Include Select2 JS and CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        $('#supplier_id').select2({
            placeholder: "Select a supplier",
            allowClear: true
        });
    });
</script>
{% endblock %}
